---
import UnderlineLink from "../components/UnderlineLink.astro";
import ArrowLink from "../components/ArrowLink.astro";
import TimelineItem from "../components/TimelineItem.astro";
import Layout from "../layouts/Layout.astro";
import { Icon } from "astro-icon/components";
import { Image } from "astro:assets";
import teamImage from "../data/images/team_2.jpg";
import labImage from "../data/images/team_3.jpg";
---

<Layout title="Formula Nano" fullWidth>
  <main>
    <div class="-mt-28 bg-gradient-to-r from-red-100 to-yellow-100">
      <div
        class="mx-auto flex max-w-6xl flex-col items-stretch px-8 pb-28 pt-48 lg:flex-row"
      >
        <div class="basis-3/5">
          <h1
            class="pb-8 text-3xl font-bold italic md:text-4xl lg:text-5xl"
            id="hero-headline"
          >
            We are designing,<br />building, and racing<br />molecular machines
            at<br />the nanoscale
          </h1>
          <p
            class="max-w-[60ch] pb-16 pr-12 font-chivo font-light leading-[1.4] text-gray-800"
            id="hero-desc"
          >
            Formula Nano is an engineering student design team at the University
            of Waterloo. Our current goal is to compete in the next
            International Nanocar Race, where teams compete to race single
            molecules using a specialised scanning tunnelling microscope (STM).
          </p>
          <div
            class="border-1 mb-16 flex place-content-around items-center rounded-xl border border-yellow-400 px-6 py-8 lg:-mr-4 lg:pl-6 lg:pr-10"
            id="facts-section"
          >
            <div class="flex flex-col items-center">
              <Icon name="ph:atom" class="text-6xl text-yellow-500" />
              <span class="font-semibold">Only 100 to 1000 Atoms</span>
            </div>
            <div class="h-20 w-0.5 rounded-full bg-yellow-400/30"></div>
            <div class="flex flex-col items-center">
              <Icon
                name="ph:arrows-in-line-horizontal"
                class="text-6xl text-yellow-500"
              />
              <span class="font-semibold">A few nanometres wide</span>
            </div>
            <div class="h-20 w-0.5 rounded-full bg-yellow-400/30"></div>
            <div class="flex flex-col items-center">
              <Icon name="ph:microscope" class="text-6xl text-yellow-500" />
              <span class="font-semibold">Propelled by an STM</span>
            </div>
          </div>
        </div>
        <div class="basis-2/5 pt-12">
          <Image
            src={labImage}
            alt="Selfie of 3 Formula Nano team members in a lab smiling at camera"
            class="h-full rounded-xl object-cover"
          />
        </div>
      </div>
      <div class="-mt-12 h-12 bg-gradient-to-b from-transparent to-gray-50">
      </div>
    </div>

    <div class="h-36"></div>

    <div class="flex justify-center">
      <section
        class="flex max-w-6xl flex-col items-stretch gap-8 px-8 lg:flex-row"
      >
        <div class="flex-1" id="timeline-items">
          <h2 class="text-balance py-4 text-4xl font-bold text-stone-900">
            What have we been working on?
          </h2>
          <TimelineItem
            date="April 2024"
            title="Founded"
            body="Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed doeiusmod tempor incididunt ut labore et dolore magna aliqua."
          />
          <TimelineItem
            date="April 2024"
            title="Founded"
            body="Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed doeiusmod tempor incididunt ut labore et dolore magna aliqua."
          />
          <TimelineItem
            date="April 2024"
            title="Founded"
            body="Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed doeiusmod tempor incididunt ut labore et dolore magna aliqua."
          />
          <TimelineItem
            date="April 2024"
            title="Founded"
            body="Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed doeiusmod tempor incididunt ut labore et dolore magna aliqua."
          />
        </div>
        <div class="flex-1">
          <Image
            src={teamImage}
            alt="Formula Nano Team Members standing on a set of stairs smiling at the camera"
            class="w-auto overflow-hidden rounded-xl object-cover"
          />
        </div>
      </section>
    </div>

    <div class="h-56"></div>

    <div class="flex justify-center">
      <section
        class="relative grid max-w-6xl grid-cols-1 gap-8 px-8 md:grid-cols-2 lg:grid-cols-[minmax(16rem,min-content)_1fr_1fr]"
        id="help-us"
      >
        <span
          class="absolute z-[-1] -mt-8 hidden h-[95%] w-[95%] rounded-xl outline outline-1 outline-stone-400 md:block"
        >
        </span>
        <h2 class="col-auto pl-8 text-4xl font-bold md:col-span-2 lg:col-auto">
          We need your help!
        </h2>
        <div class="basis-1/2 rounded-xl bg-red-100 p-8 pt-4">
          <Icon name="ph:handshake" class="text-7xl text-red-600" />
          <h3 class="pb-3 pt-1 text-2xl font-bold text-stone-900">Join Us</h3>
          <p>
            Interested in what we're doing? Lorem ipsum dolor sit amet,
            consectetur adipiscing elit.
          </p>
          <ul class="list-disc pb-4 pl-4 marker:text-red-400">
            <li>Chemistry</li>
            <li>Computation</li>
            <li>Instrumentation</li>
            <li>Business</li>
          </ul>
          <ArrowLink label="See our Subteams" to="/join" />
        </div>
        <div class="flex basis-1/2 flex-col rounded-xl bg-yellow-100 p-8 pt-4">
          <Icon name="ph:money-wavy" class="text-7xl text-yellow-500" />
          <h3 class="pb-3 text-2xl font-bold text-stone-900">Sponsor Us</h3>
          <p class="pb-4">
            Think what we're doing is cool and want to support us? We're always
            looking for financial and in-kind support, and would love to hear
            how you can help.
          </p>
          <div class="grow"></div>
          <ArrowLink label="See Sponsor Info" to="/sponsor" />
        </div>
      </section>
    </div>

    <div class="h-36"></div>
  </main>
</Layout>

<script>
  import gsap from "gsap";
  import { ScrollTrigger } from "gsap/ScrollTrigger";

  gsap.registerPlugin(ScrollTrigger);

  gsap.from("#hero-headline", {
    duration: 1.5,
    opacity: 0,
    y: 50,
    ease: "power3.out",
  });

  gsap.from("#hero-desc", {
    duration: 1.2,
    opacity: 0,
    y: 50,
    ease: "power3.out",
    delay: 0.3,
  });

  gsap.from("#facts-section > div", {
    duration: 0.8,
    opacity: 0,
    scale: 0.8,
    ease: "back.out(1.7)",
    stagger: 0.2,
    delay: 0.5,
  });

  gsap.from("img[src*='team_3']", {
    duration: 1.2,
    opacity: 0,
    x: 100,
    ease: "power3.out",
    delay: 0.5,
  });

  gsap.from("#timeline-items > div", {
    scrollTrigger: {
      trigger: "#timeline-items",
      start: "top 90%",
      toggleActions: "play none none none",
    },
    duration: 1,
    opacity: 0,
    y: 20,
    ease: "power2.out",
    stagger: 0.2,
  });

  gsap.from("#help-us > div", {
    scrollTrigger: {
      trigger: "#help-us",
      start: "top 85%",
      toggleActions: "play none none none",
    },
    duration: 1.2,
    opacity: 0,
    y: 50,
    ease: "power3.out",
    stagger: 0.3,
  });
</script>
